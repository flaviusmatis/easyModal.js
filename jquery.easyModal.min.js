(function(b){var a={init:function(c){var d={top:"auto",autoOpen:false,overlayOpacity:0.5,overlayColor:"#000",overlayClose:true,overlayParent:"body",closeOnEscape:true,closeButtonClass:".close",onOpen:false,onClose:false};c=b.extend(d,c);return this.each(function(){var g=c;var e=b('<div class="lean-overlay"></div>');e.css({display:"none",position:"fixed","z-index":2000,top:0,left:0,height:100+"%",width:100+"%",background:g.overlayColor,opacity:g.overlayOpacity}).appendTo(g.overlayParent);var f=b(this);f.css({display:"none",position:"fixed","z-index":2001,left:50+"%",top:parseInt(g.top)>-1?g.top+"px":50+"%","margin-left":-(f.outerWidth()/2)+"px","margin-top":(parseInt(g.top)>-1?0:-(f.outerHeight()/2))+"px"});f.bind("openModal",function(h){b(this).css("display","block");e.fadeIn(200,function(){if(g.onOpen&&typeof(g.onOpen)==="function"){g.onOpen(f[0])}})});f.bind("closeModal",function(h){b(this).css("display","none");e.fadeOut(200,function(){if(g.onClose&&typeof(g.onClose)==="function"){g.onClose(f[0])}})});e.click(function(){if(g.overlayClose){f.trigger("closeModal")}});b(document).keydown(function(h){if(g.closeOnEscape&&h.keyCode==27){f.trigger("closeModal")}});f.find(g.closeButtonClass).click(function(h){f.trigger("closeModal");h.preventDefault()});if(g.autoOpen){f.trigger("openModal")}})}};b.fn.easyModal=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.easyModal")}}}})(jQuery);